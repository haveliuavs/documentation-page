
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../VI-SLAM/">
      
      
        <link rel="next" href="../Voxelization/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.0, mkdocs-material-9.5.28">
    
    
      
        <title>Direct Sparse Odometry - Haveli Documentation</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.6543a935.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="lime" data-md-color-accent="cyan">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#direct-sparse-odometry" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Haveli Documentation" class="md-header__button md-logo" aria-label="Haveli Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Haveli Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Direct Sparse Odometry
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="lime" data-md-color-accent="cyan"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5c-.84 0-1.65.15-2.39.42L12 2M3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29L3.34 7m.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14L3.36 17M20.65 7l-1.77 3.79a7.023 7.023 0 0 0-2.38-4.15l4.15.36m-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29L20.64 17M12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44L12 22Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="lime" data-md-color-accent="teal"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3 3.19.09m3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95 2.06.05m-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31Z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="https://www.haveliuavs.com/" class="md-tabs__link">
        
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href=".." class="md-tabs__link">
        
  
    
  
  Documentation

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../Perception/" class="md-tabs__link">
        
  
    
  
  Perception and Vision

      </a>
    </li>
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../SLAM/" class="md-tabs__link">
          
  
  SLAM

        </a>
      </li>
    
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../RobotOperatingSystem/" class="md-tabs__link">
        
  
    
  
  Robot Operating System

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../Community/" class="md-tabs__link">
        
  
    
  
  Communities

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Haveli Documentation" class="md-nav__button md-logo" aria-label="Haveli Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    Haveli Documentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="https://www.haveliuavs.com/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Documentation
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../Perception/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Perception and Vision
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="">
            
  
  <span class="md-ellipsis">
    SLAM
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            SLAM
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../SLAM/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introduction
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2" checked>
        
          
          <label class="md-nav__link" for="__nav_4_2" id="__nav_4_2_label" tabindex="">
            
  
  <span class="md-ellipsis">
    VI-SLAM
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4_2">
            <span class="md-nav__icon md-icon"></span>
            VI-SLAM
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../VI-SLAM/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Visual SLAM
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Direct Sparse Odometry
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Direct Sparse Odometry
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#how-did-it-conceptualize" class="md-nav__link">
    <span class="md-ellipsis">
      How did it conceptualize?
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fundamental-components-of-dso" class="md-nav__link">
    <span class="md-ellipsis">
      Fundamental Components of DSO
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Fundamental Components of DSO">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pixel-selector-and-gradients" class="md-nav__link">
    <span class="md-ellipsis">
      Pixel Selector and Gradients
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#photometric-error-formulation-and-parameterization" class="md-nav__link">
    <span class="md-ellipsis">
      Photometric Error formulation and parameterization
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#challenges-for-the-method" class="md-nav__link">
    <span class="md-ellipsis">
      Challenges for the method
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ros-2-development" class="md-nav__link">
    <span class="md-ellipsis">
      ROS 2 development
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#results" class="md-nav__link">
    <span class="md-ellipsis">
      Results
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#challenges-and-future-works" class="md-nav__link">
    <span class="md-ellipsis">
      Challenges and Future Works
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#different-dso-implementations" class="md-nav__link">
    <span class="md-ellipsis">
      Different DSO Implementations
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#resources-and-references" class="md-nav__link">
    <span class="md-ellipsis">
      Resources and References
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Voxelization/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Voxelization
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Datasets/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Datasets
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../RobotOperatingSystem/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Robot Operating System
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../Community/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Communities
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="direct-sparse-odometry">Direct Sparse Odometry</h1>
<h2 id="how-did-it-conceptualize">How did it conceptualize?</h2>
<p>Direct Sparse Odometry originated as a body of work for Visual Odometry using Monocular camera and Direct methods. Previously they made a breakthrough in Direct Methods using LSD-SLAM, but eventually it was seen that the method was computationally very expensive. If this methods has to be deployed on hardware such as robots and handheld systems, they need to be lightweight. </p>
<p>In case of DSO, they use a windowed optimization approach, where the pose calculation takes place over a window of 7 frames (set as a parameter). This is basically a real-time windowed bundle adjustment, and hence can be used to optimize the reprojection error and hence calculate the inverse depth and ultimately the pose and hence the odometry of the camera sensor.</p>
<p>The work has extended over the years, with different additions, such as Loop Closure, Dynamic Marginalization and Saliency Maps. They aim to solve problems that are specific to the use of the algorithm in a efficient manner, and also overcome its shortcomings.</p>
<h2 id="fundamental-components-of-dso">Fundamental Components of DSO</h2>
<h3 id="pixel-selector-and-gradients">Pixel Selector and Gradients</h3>
<p>DSO heavily depends on getting the anchor points for tracking by using gradients of the image pixel intensities. The horizontal and vertical image gradients are squared and added to form a map, which has the same size of the image. This is then cut into blocks of 32 x 32 blocks and for each block, calculate their gradients into histograms, which helps to threshold easily.</p>
<p><img alt="Pyramid Level Sliding Window" src="../assets/pixel_selector.png" /></p>
<p>A sliding window is used to calculate a local gradient within a neighbourhood, and then select points using a threshold value. After the keypoints are selected, then they are reprojected onto the next frame, bundle adjustment is then carried out to reduce the reprojection error defined, which parametrizes on inverse depth, to solve depth and pose estimation. </p>
<p><a href="https://rancheng.github.io/gradient-pixel-selector/">Gradient Pixel Selection by Ran Cheng</a> is a blog post written by an ex-researcher from McGill University, which explains the code part of this pixel selector concept, and how does it exactly emulate a convolution operation through the different levels of resolution (Pyramid Levels).</p>
<h3 id="photometric-error-formulation-and-parameterization">Photometric Error formulation and parameterization</h3>
<figure markdown="span">
  <img src=https://csdl-images.ieeecomputer.org/trans/tp/2018/03/figures/engel4-2658577.gif>
  <figcaption>Residual Pattern for SSD calculation</figcaption>
</figure>

<p>The photometric error function seeks to minimise the photometric difference between observations of the same 3D point across multiple frames. The photometric error for a point p in reference frame I_i, viewed in a target frame I_j, is defined as the weighted sum of squared differences (SSD) over a small neighbourhood of pixels N_p around the projected point.</p>
<math xmlns="http://www.w3.org/1998/Math/MathML" display="block">
  <msub>
    <mi>E</mi>
    <mrow class="MJX-TeXAtom-ORD">
      <mrow class="MJX-TeXAtom-ORD">
        <mi mathvariant="bold">p</mi>
      </mrow>
      <mi>j</mi>
    </mrow>
  </msub>
  <mo>:=</mo>
  <munder>
    <mo>&#x2211;<!-- ∑ --></mo>
    <mrow class="MJX-TeXAtom-ORD">
      <mrow class="MJX-TeXAtom-ORD">
        <mi mathvariant="bold">p</mi>
      </mrow>
      <mo>&#x2208;<!-- ∈ --></mo>
      <msub>
        <mrow class="MJX-TeXAtom-ORD">
          <mi class="MJX-tex-caligraphic" mathvariant="script">N</mi>
        </mrow>
        <mrow class="MJX-TeXAtom-ORD">
          <mi mathvariant="bold">p</mi>
        </mrow>
      </msub>
    </mrow>
  </munder>
  <msub>
    <mi>w</mi>
    <mrow class="MJX-TeXAtom-ORD">
      <mi mathvariant="bold">p</mi>
    </mrow>
  </msub>
  <msub>
    <mrow>
      <mo symmetric="true">&#x2016;</mo>
      <mo stretchy="false">(</mo>
      <msub>
        <mi>I</mi>
        <mi>j</mi>
      </msub>
      <mo stretchy="false">[</mo>
      <msup>
        <mrow class="MJX-TeXAtom-ORD">
          <mi mathvariant="bold">p</mi>
        </mrow>
        <mrow class="MJX-TeXAtom-ORD">
          <mi class="MJX-variant" mathvariant="normal">&#x2032;<!-- ′ --></mi>
        </mrow>
      </msup>
      <mo stretchy="false">]</mo>
      <mo>&#x2212;<!-- − --></mo>
      <msub>
        <mi>b</mi>
        <mi>j</mi>
      </msub>
      <mo stretchy="false">)</mo>
      <mo>&#x2212;<!-- − --></mo>
      <mfrac>
        <mrow>
          <msub>
            <mi>t</mi>
            <mi>j</mi>
          </msub>
          <msup>
            <mi>e</mi>
            <mrow class="MJX-TeXAtom-ORD">
              <msub>
                <mi>a</mi>
                <mi>j</mi>
              </msub>
            </mrow>
          </msup>
        </mrow>
        <mrow>
          <msub>
            <mi>t</mi>
            <mi>i</mi>
          </msub>
          <msup>
            <mi>e</mi>
            <mrow class="MJX-TeXAtom-ORD">
              <msub>
                <mi>a</mi>
                <mi>i</mi>
              </msub>
            </mrow>
          </msup>
        </mrow>
      </mfrac>
      <mrow class="MJX-TeXAtom-OPEN">
        <mo maxsize="1.2em" minsize="1.2em">(</mo>
      </mrow>
      <msub>
        <mi>I</mi>
        <mi>i</mi>
      </msub>
      <mo stretchy="false">[</mo>
      <mrow class="MJX-TeXAtom-ORD">
        <mi mathvariant="bold">p</mi>
      </mrow>
      <mo stretchy="false">]</mo>
      <mo>&#x2212;<!-- − --></mo>
      <msub>
        <mi>b</mi>
        <mi>i</mi>
      </msub>
      <mrow class="MJX-TeXAtom-CLOSE">
        <mo maxsize="1.2em" minsize="1.2em">)</mo>
      </mrow>
      <mo symmetric="true">&#x2016;</mo>
    </mrow>
    <mi>&#x03B3;<!-- γ --></mi>
  </msub>
</math>

<p>The above is the energy function of the algorithm. It is to be noted that this implementation is parameterized on the inverse depth. To understand in depth about this concept, there is a link to the word document given in the Resources and References column, which contains links to relevant papers explaining the SSD calculation and the requirement for an inverse depth parameterization. </p>
<h3 id="challenges-for-the-method">Challenges for the method</h3>
<p>Non-linear optimisation algorithms are used to minimise photometric error while estimating camera positions and pixel depth. Direct approaches are effective in low-texture settings and can provide rich 3D reconstructions due to their ability to utilise a large amount of image data. Direct picture alignment approaches are highly sensitive to unmodeled artefacts including rolling shutter, camera auto exposure, and gain control.</p>
<p>Camera sensors are far from perfect. The build of the camera makes it prone to a lot of distortions of images. These distortions have to be modelled so that we can use this information to undistort the images.</p>
<h2 id="ros-2-development">ROS 2 development</h2>
<p>Docker was used to create a container with Ubuntu 22.04 and ROS 2 installation on it. The version of ROS used was Humble Hawkskill. The issues initally was mainly towards bringing the syntax upto the version with which we can write a wrapper code. </p>
<p>For DSO and LDSO, the algorithm reads and runs very similarly. <a href="https://docs.google.com/document/d/1x5d1Ur_AZU3K_any0ACo93J8Y3mO59Glcjq1KGp_Ihs/edit?usp=sharing">Step-by-Step Procedure to Implement DSO and LDSO with C++17</a> is a guide, which provides a guide to run the algorithm with a dataset in the latest versions of code and distro's. </p>
<p>Once this is setup properly, primarly the viewer Pangolin, which is a C++ based GUI, needs to be removed completely and our wrapper code needs to be written instead. The Output3DWrapper.h files shows the functions and their outputs, which can be used to extract the required data from the algorithm. <a href="https://docs.google.com/document/d/1dbFytX_ruTpZNbZnLcZYtdw1d9u-k5UJYUurPtzuanY/edit?usp=sharing">Step by Step DSO with ROS 2+RViz</a> enlists the step by step process to create a docker and work with a ROS 2 image and the development of the wrapper code.</p>
<h2 id="results">Results</h2>
<p><a href="https://drive.google.com/drive/folders/1hmUxz11i_SpTFY0xH8mVKDvYlFbiSeCj?usp=drive_link">Results</a> contains the results from runs using different VO datasets and custom datasets as well. The results from the ROS 2 development is also added to the same folder. </p>
<h2 id="challenges-and-future-works">Challenges and Future Works</h2>
<h2 id="different-dso-implementations">Different DSO Implementations</h2>
<p>Due to the above shortcomings there are many implementation of DSO with addition of many different elements to mitigate the results of some of the shortcomings</p>
<p><a href="https://drive.google.com/file/d/1vE49QC0AmOZzF1Y78PMxXKxrqyWSkVNS/view?usp=drive_link">DSO in Dynamic Environments</a></p>
<p><a href="https://drive.google.com/file/d/1C4TnZBu1QrK0fhKbAtPH9aEewNWFmBLi/view?usp=drive_link">Salient DSO</a></p>
<p><a href="https://arxiv.org/pdf/1808.01111.pdf">LDSO- DSO with Loop Closure</a></p>
<p><a href="https://arxiv.org/pdf/1804.05625.pdf">DSO with Dynamic Marginalization</a></p>
<p><a href="https://arxiv.org/pdf/1912.05101.pdf">Deep Direct Visual Odometry</a></p>
<p><a href="https://drive.google.com/file/d/1oxa2KfEf2wMEL6-hJ9lrOqc-7CQKxvVg/view?usp=drive_link">Feature based Localization with Direct Visual Odometry</a></p>
<h2 id="resources-and-references">Resources and References</h2>
<p><a href="https://docs.google.com/document/d/1pw2sD3NSnbyrYL8ve_39WJxIxfFBLUrBEKzDJUEuMaM/edit?usp=sharing">Research-DSO</a> contains resources to understand the fundamental concepts and building blocks deployed to build the DSO method. </p>












                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.tabs", "navigation.sections", "toc.integrate", "navigation.top", "search.suggest", "search.highlight", "content.tabs.link", "content.code.annotation", "content.code.copy"], "search": "../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.fe8b6f2b.min.js"></script>
      
    
  </body>
</html>